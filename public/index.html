<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Bigfoot Tech Consulting</title>

  <!-- Early scale so first paint is already sized (prevents mobile left-shift) -->
  <script>
    (function initScale(){
      function set() {
        const s = Math.min(window.innerWidth/720, window.innerHeight/1280);
        document.documentElement.style.setProperty('--stage-scale', s || 0.001);
      }
      set();
      window.addEventListener('resize', set, {passive:true});
      window.addEventListener('orientationchange', set, {passive:true});
      document.addEventListener('DOMContentLoaded', set);
    })();
  </script>

  <style>
    /* --- Base layout --- */
    html, body { margin:0; padding:0; height:100%; overflow:hidden; background:#000; }
    body { display:flex; justify-content:center; align-items:center; }

    /* 720×1280 portrait stage; scaled via CSS var set in <head> */
    #container{
      position:relative;
      width:720px; height:1280px;
      margin:auto;
      transform-origin: top left;
      transform: scale(var(--stage-scale, 0.001));  /* tiny until computed */
      opacity: 0;                                    /* hide unscaled flash */
      will-change: transform, opacity;
    }

    video{
      position:absolute; inset:0;
      width:720px; height:1280px;
    }

    /* Button anchored in stage pixels so scaling is deterministic */
    #startButton{
      background:#fff; border:0; padding:.75em 1.5em; font-size:1em; cursor:pointer; border-radius:1em;
      position:absolute;
      left: 360px;       /* center of 720px stage */
      top: 1070px;       /* 720×1280 coordinates */
      transform: translate(-50%, -50%);
      z-index:2;
    }

    /* --- Overlays (buttons + glow JPGs) anchored to stage coords --- */
    .invisible-button, .glow-img{
      position:absolute; background:transparent; border:0;
      display:block; opacity:0; visibility:hidden; transition:opacity .6s ease;
      /* mobile smoothness */
      will-change: opacity, transform;
      transform: translateZ(0);
      -webkit-transform: translateZ(0);
    }
    /* Click targets above visuals; glows under */
    .invisible-button{ z-index:3; pointer-events:none; }
    .glow-img{ z-index:2; pointer-events:none; width:100%; height:100%;
      /* If base art is smushed, match it */
      object-fit: fill;
    }

    /* Visible state */
    .show{ opacity:1; visibility:visible; }
    .invisible-button.show{ pointer-events:auto; }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .invisible-button, .glow-img { transition: none !important; }
    }

    /* --- Exact stage coordinates (px) for 720×1280 master --- */
    /* REQUIA sign */
    #requiaBtn, #requiaGlow { left:27px; top:45px; width:233px; height:145px; }
    /* SYSYNCT sign */
    #sysynctBtn, #sysynctGlow { left:25px; top:282px; width:230px; height:94px; }
    /* Q mug / sparkle */
    #qBtn, #qGlow { left:103px; top:655px; width:160px; height:155px; }

    /* Pause touch area (stage-relative) */
    #pauseTrigger{
      position:absolute; left:443px; top:487px; width:143px; height:170px; cursor:pointer; z-index:4;
    }

    /* --- Popups (unchanged) --- */
    .popup{
      position:absolute; top:10%; left:10%; width:80%;
      background:rgba(0,0,0,.9); color:#fff; padding:1em; border-radius:10px; z-index:4; display:none;
    }
    .popup a{ color:#0ff; display:inline-block; margin-top:10px; }
    .close{ position:absolute; top:10px; right:20px; font-size:1.5em; cursor:pointer; }
  </style>
</head>
<body>
  <div id="container">
    <video id="bgVideo" preload="auto" playsinline muted poster="frame.jpg">
      <source src="requia_loop.mp4" type="video/mp4" />
      Your browser does not support HTML5 video.
    </video>

    <!-- Glow JPGs -->
    <img id="requiaGlow" class="glow-img" src="requia_idle.jpg" alt="">
    <img id="sysynctGlow" class="glow-img" src="sysynct_idle.jpg" alt="">
    <img id="qGlow" class="glow-img" src="q_idle.jpg" alt="">

    <button id="startButton">Yes</button>

    <!-- Invisible click targets aligned to the same boxes -->
    <button id="requiaBtn" class="invisible-button" aria-label="Requia"></button>
    <button id="sysynctBtn" class="invisible-button" aria-label="SySynct"></button>
    <button id="qBtn" class="invisible-button" aria-label="Q / Mug"></button>

    <div id="pauseTrigger" aria-hidden="true" onclick="document.getElementById('bgVideo').pause();"></div>

    <!-- Popups -->
    <div id="requiaPopup" class="popup">
      <div class="close" onclick="closePopup('requiaPopup')">&times;</div>
      <h2>Requia</h2>
      <p>Requia is your family’s private streaming portal—auto-organized memories, narrated timelines, and legacy storytelling built on your terms.</p>
      <a href="https://www.requia.app" target="_blank" rel="noopener noreferrer">Visit requia.app</a>
    </div>

    <div id="sysynctPopup" class="popup">
      <div class="close" onclick="closePopup('sysynctPopup')">&times;</div>
      <h2>SySynct</h2>
      <p>SySynct is your analog brain’s missing link—an automation engine that turns scribbles, voice notes, and old files into searchable, synced, AI-powered insights.</p>
      <a href="https://www.sysynct.com" target="_blank" rel="noopener noreferrer">Visit sysynct.com</a>
    </div>

    <div id="qPopup" class="popup">
      <div class="close" onclick="closePopup('qPopup')">&times;</div>
      <h2>Welcome to Bigfoot Tech Consulting</h2>
      <p>I’m Q, the missing link. I help connect your analog and digital footprint inside your own autonomous environment, free from the clouds of the giants.</p>
      <p>With SySynct and Requia, we bridge real life and digital systems using invisible tools that feel like magic—on your terms, in your cloud.</p>
      <p>I’m also the Curator of Requia. What’s a curator do? Well… I’m still working on my projects, but my goal is to help you remember everything that matters—automatically. Through SySynct, I turn your notes, videos, photos, and voice into a living archive, a private AI-powered library that understands your life and helps you tell its story.</p>
      <p>But in the meantime, I can help with anything tech, contact me: (link to TBD email)</p>
    </div>
  </div>

  <script>
    const container = document.getElementById('container');
    const video = document.getElementById('bgVideo');
    const startButton = document.getElementById('startButton');

    const requiaBtn = document.getElementById('requiaBtn');
    const sysynctBtn = document.getElementById('sysynctBtn');
    const qBtn = document.getElementById('qBtn');

    const requiaGlow = document.getElementById('requiaGlow');
    const sysynctGlow = document.getElementById('sysynctGlow');
    const qGlow = document.getElementById('qGlow');

    /* Reveal container after first computed scale has been applied */
    requestAnimationFrame(() => { container.style.opacity = '1'; });

    /* Uniform stage scale backup (in case head script ran before DOM) */
    function scaleContainer(){
      const vw = window.innerWidth, vh = window.innerHeight;
      const s = Math.min(vw/720, vh/1280);
      document.documentElement.style.setProperty('--stage-scale', s || 0.001);
    }
    window.addEventListener('resize', scaleContainer);
    window.addEventListener('load', () => { scaleContainer(); video.load(); video.pause(); });

    /* Class-based show/hide with iOS-friendly double-RAF to ensure a paint before fading */
    let overlaysVisible = false;
    let overlayTimer = null;
    const OVERLAY_SHOW_MS = 5500;
    const OVERLAY_HIDE_S = 319;

    function showOverlays() {
      const els = [requiaBtn, sysynctBtn, qBtn, requiaGlow, sysynctGlow, qGlow];
      // Ensure hidden state is painted first
      els.forEach(el => el.classList.remove('show'));
      requestAnimationFrame(() => {
        els.forEach(el => void el.offsetHeight); // force reflow
        requestAnimationFrame(() => {
          els.forEach(el => el.classList.add('show'));
          overlaysVisible = true;
        });
      });
    }
    function hideOverlays() {
      [requiaBtn, sysynctBtn, qBtn, requiaGlow, sysynctGlow, qGlow]
        .forEach(el => el.classList.remove('show'));
      overlaysVisible = false;
    }

    startButton.addEventListener('click', () => {
      startButton.style.display = 'none';
      video.currentTime = 0;
      video.muted = false;

      video.play().then(() => {
        overlayTimer = setTimeout(() => { showOverlays(); }, OVERLAY_SHOW_MS);
      });

      video.addEventListener('timeupdate', () => {
        if (!video.paused && video.currentTime >= OVERLAY_HIDE_S && overlaysVisible) {
          hideOverlays();
        }
      });
    });

    // Pause-aware: keep overlays visible when user pauses via keyboard/media key
    video.addEventListener('pause', () => {
      if (overlayTimer) { clearTimeout(overlayTimer); overlayTimer = null; }
      if (!overlaysVisible) showOverlays();
    });

    video.addEventListener('ended', () => {
      startButton.textContent = 'Yes';
      startButton.style.display = 'block';
      video.pause(); video.currentTime = 0;
      hideOverlays();
    });

    /* Popups */
    function closePopup(id){ document.getElementById(id).style.display='none'; }
    requiaBtn.addEventListener('click', () => { document.getElementById('requiaPopup').style.display='block'; });
    sysynctBtn.addEventListener('click', () => { document.getElementById('sysynctPopup').style.display='block'; });
    qBtn.addEventListener('click', () => { document.getElementById('qPopup').style.display='block'; });

    /* Hover glow swaps */
    requiaBtn.addEventListener('mouseenter', () => { requiaGlow.src='requia_hover.jpg'; });
    requiaBtn.addEventListener('mouseleave', () => { requiaGlow.src='requia_idle.jpg'; });
    sysynctBtn.addEventListener('mouseenter', () => { sysynctGlow.src='sysynct_hover.jpg'; });
    sysynctBtn.addEventListener('mouseleave', () => { sysynctGlow.src='sysynct_idle.jpg'; });
    qBtn.addEventListener('mouseenter', () => { qGlow.src='q_hover.jpg'; });
    qBtn.addEventListener('mouseleave', () => { qGlow.src='q_idle.jpg'; });
  </script>
</body>
</html>
